<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<title>KADIMA</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<script src="https://telegram.org/js/telegram-web-app.js"></script>
<link href="https://fonts.googleapis.com/css2?family=Lobster&family=Montserrat:wght@500;700;800&display=swap" rel="stylesheet">

<style>
:root{
--bg:#F8F3E9;
--terracotta:#C76B2F;
--gold:#D4A017;
--green:#1F4D3A;
--meat:#8B1E1E;
}
*{box-sizing:border-box;-webkit-tap-highlight-color:transparent;}
body{margin:0;font-family:'Montserrat',sans-serif;background:var(--bg);color:#2b2b2b;}

/* HEADER */
.header{
padding:16px 12px 26px;
background:linear-gradient(135deg,var(--terracotta),var(--gold));
color:white;
box-shadow:0 6px 18px rgba(120,70,20,.25);
display:flex;align-items:center;justify-content:center;position:relative;text-align:center;
}
.header img{position:absolute;left:12px;width:110px;}
.brand-title{font-family:'Lobster',cursive;font-size:36px;}
.brand-sub{font-weight:800;font-size:15px;}
.brand-phone a{color:white;text-decoration:none;font-size:15px;font-weight:700;}
.search-btn{
position:absolute;right:14px;bottom:10px;
width:34px;height:34px;border-radius:50%;
background:white;color:#333;display:flex;align-items:center;justify-content:center;
font-size:16px;font-weight:700;
}

/* LANGUAGE BIGGER */
.langs{display:flex;gap:12px;padding:12px;justify-content:center;}
.langs .btn{font-size:16px;padding:12px 20px}

/* BUTTON BASE */
.btn{
padding:12px 20px;border-radius:28px;background:#fffdf9;border:1px solid #f0e6d6;
font-weight:700;white-space:nowrap;min-width:120px;text-align:center;
}
.btn.active{background:linear-gradient(135deg,var(--terracotta),var(--gold));color:white;border:none;}

/* TYPES CENTERED */
.types{display:flex;gap:14px;padding:14px;justify-content:center;}
.types .btn{font-size:16px;min-width:150px}

/* ADDRESS + PHONE CENTER */
.input{
margin:8px auto;
display:block;
padding:14px;
width:85%;
border-radius:20px;
border:1px solid #e6dac6;
background:#fffdf9;
font-size:15px;
}

/* CATEGORIES WIDER */
.categories{display:flex;gap:12px;padding:14px;overflow-x:auto;}
.categories .btn{font-size:16px;padding:14px 22px;}

/* PRODUCTS */
.products{display:grid;grid-template-columns:repeat(2,1fr);gap:12px;padding:12px;}
.card{border-radius:20px;background:#fffdf9;box-shadow:0 8px 18px rgba(120,70,20,.15);padding:10px;text-align:center;border:1px solid #f0e6d6;}
.img{height:70px;display:flex;align-items:center;justify-content:center;}
.img img{max-width:48px;opacity:.85;}
.price{font-weight:800;color:var(--meat);margin-top:6px;}

.counter{display:flex;justify-content:center;gap:10px;margin-top:6px;}
.counter button{width:30px;height:30px;border-radius:50%;border:none;background:var(--green);color:white;font-size:16px;}

/* CART */
.cart{background:#fffdf9;margin:12px;padding:16px;border-radius:20px;border:1px solid #f0e6d6;}

.payments{display:flex;gap:16px;justify-content:center;margin-top:10px;}
.payments .btn{font-size:16px;padding:14px 26px;min-width:140px}

textarea.input{height:90px;font-size:15px;}

.order-btn{width:100%;padding:18px;margin-top:14px;border:none;border-radius:20px;background:linear-gradient(135deg,var(--green),#2e7d32);color:white;font-size:17px;font-weight:800;}

/* POPUP */
.popup{position:fixed;inset:0;background:rgba(0,0,0,.4);display:flex;align-items:center;justify-content:center;opacity:0;pointer-events:none;transition:.3s;}
.popup.show{opacity:1;pointer-events:auto;}
.popup-box{background:white;padding:26px;border-radius:20px;text-align:center;font-weight:700;}

@media(max-width:380px){
.products{grid-template-columns:1fr 1fr;}
}
</style>
</head>

<body>

<div class="header">
  <img src="logo.png">
  <div>
    <div class="brand-title">KADIMA</div>
    <div class="brand-sub">Signature taste</div>
    <div class="brand-phone">
      <a href="tel:+998905389999">+998 90 538 99 99</a>
    </div>
  </div>
  <div class="search-btn">üîç</div>
</div>

<div class="langs">
  <button class="btn active" onclick="setLang('ru',this)">RU</button>
  <button class="btn" onclick="setLang('uz',this)">UZ</button>
  <button class="btn" onclick="setLang('en',this)">EN</button>
</div>

<div class="types">
  <button class="btn active" id="btnDelivery" onclick="setType('delivery',this)"></button>
  <button class="btn" id="btnPickup" onclick="setType('pickup',this)"></button>
</div>

<input id="address" class="input">
<input id="phone" class="input">

<div class="categories" id="cats"></div>
<div class="products" id="products"></div>

<div class="cart">
  <b id="cartTitle"></b>: <span id="total">0</span> —Å—É–º

  <textarea id="comment" class="input"></textarea>

  <div class="payments">
    <button class="btn active" id="payCash" onclick="setPayment('cash')"></button>
    <button class="btn" id="payClick" onclick="setPayment('click')"></button>
  </div>

  <button class="order-btn" id="orderBtn" onclick="sendOrder()"></button>
</div>

<div class="popup" id="popup"><div class="popup-box">‚úÖ –ó–∞–∫–∞–∑ –ø—Ä–∏–Ω—è—Ç!</div></div>

<script>
Telegram.WebApp.ready();

let lang='ru',category='salads',type='delivery',payment='cash',cart={};

const TEXT={
ru:{delivery:'üöö –î–æ—Å—Ç–∞–≤–∫–∞',pickup:'üèÉ –°–∞–º–æ–≤—ã–≤–æ–∑',address:'üìç –ê–¥—Ä–µ—Å –¥–æ—Å—Ç–∞–≤–∫–∏',phone:'üìû –¢–µ–ª–µ—Ñ–æ–Ω',cart:'üõí –ö–æ—Ä–∑–∏–Ω–∞',order:'–û—Ñ–æ—Ä–º–∏—Ç—å –∑–∞–∫–∞–∑',comment:'‚úçÔ∏è –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –∫ –∑–∞–∫–∞–∑—É',cash:'üíµ –ù–∞–ª–∏—á–Ω—ã–µ',click:'üí≥ CLICK'},
uz:{delivery:'üöö Yetkazish',pickup:'üèÉ Olib ketish',address:'üìç Manzil',phone:'üìû Telefon',cart:'üõí Savat',order:'Buyurtma berish',comment:'‚úçÔ∏è Izoh',cash:'üíµ Naqd',click:'üí≥ CLICK'},
en:{delivery:'üöö Delivery',pickup:'üèÉ Pickup',address:'üìç Address',phone:'üìû Phone',cart:'üõí Cart',order:'Place order',comment:'‚úçÔ∏è Comment',cash:'üíµ Cash',click:'üí≥ CLICK'}
};

const CATS={salads:'ü•ó',kebab:'üî•',drinks:'ü•§',bread:'ü•ñ'};
const CAT_NAMES={ru:{salads:'–°–∞–ª–∞—Ç—ã',kebab:'–®–∞—à–ª—ã–∫',drinks:'–ù–∞–ø–∏—Ç–∫–∏',bread:'–•–ª–µ–±'},
uz:{salads:'Salatlar',kebab:'Shashlik',drinks:'Ichimliklar',bread:'Non'},
en:{salads:'Salads',kebab:'Kebab',drinks:'Drinks',bread:'Bread'}};

const MENU={salads:[['–°–≤–µ–∂–∏–π',30000],['–¶–µ–∑–∞—Ä—å',35000]],kebab:[['–ú–æ–ª–æ—Ç—ã–π',28000]],drinks:[['Coca Cola 1L',14000]],bread:[['–õ–µ–ø–µ—à–∫–∞',10000]]};

function setLang(l,b){lang=l;document.querySelectorAll('.langs .btn').forEach(x=>x.classList.remove('active'));b.classList.add('active');applyLang();}
function applyLang(){
btnDelivery.innerText=TEXT[lang].delivery;
btnPickup.innerText=TEXT[lang].pickup;
address.placeholder=TEXT[lang].address;
phone.placeholder=TEXT[lang].phone;
cartTitle.innerText=TEXT[lang].cart;
orderBtn.innerText=TEXT[lang].order;
comment.placeholder=TEXT[lang].comment;
payCash.innerText=TEXT[lang].cash;
payClick.innerText=TEXT[lang].click;
renderCats();renderProducts();
}

function renderCats(){cats.innerHTML='';for(let k in CATS){cats.innerHTML+=`<button class="btn ${k===category?'active':''}" onclick="category='${k}';renderCats();renderProducts()">${CATS[k]} ${CAT_NAMES[lang][k]}</button>`;}}
function renderProducts(){products.innerHTML='';MENU[category].forEach(([n,p])=>{cart[n]=cart[n]||0;products.innerHTML+=`<div class="card"><div class="img"><img src="logo.png"></div><div>${n}</div><div class="price">${p} —Å—É–º</div><div class="counter"><button onclick="chg('${n}',-1)">‚àí</button><span id="c_${n}">${cart[n]}</span><button onclick="chg('${n}',1)">+</button></div></div>`;});}

function chg(n,v){cart[n]=Math.max(0,(cart[n]||0)+v);document.getElementById('c_'+n).innerText=cart[n];updateTotal();}
function updateTotal(){let s=0;for(let k in cart)s+=cart[k]*price(k);total.innerText=s;}
function price(n){for(let c in MENU)for(let i of MENU[c])if(i[0]==n)return i[1];}

function setType(t,b){type=t;document.querySelectorAll('.types .btn').forEach(x=>x.classList.remove('active'));b.classList.add('active');}
function setPayment(p){payment=p;payCash.classList.toggle('active',p==='cash');payClick.classList.toggle('active',p==='click');}

function sendOrder(){
popup.classList.add('show');
setTimeout(()=>{
Telegram.WebApp.sendData(JSON.stringify({order:cart,total:total.innerText,payment,type,address:address.value,phone:phone.value,comment:comment.value}));
Telegram.WebApp.close();
},1200);
}

applyLang();
</script>
</body>
</html>
