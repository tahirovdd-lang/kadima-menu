<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<title>KADIMA</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<script src="https://telegram.org/js/telegram-web-app.js"></script>
<link href="https://fonts.googleapis.com/css2?family=Lobster&family=Montserrat:wght@500;700&display=swap" rel="stylesheet">

<style>
:root{
--bg:#F8F3E9;
--terracotta:#C76B2F;
--gold:#D4A017;
--green:#1F4D3A;
--meat:#8B1E1E;
}

body{
margin:0;
font-family:'Montserrat',sans-serif;
background:
radial-gradient(circle at 20% 20%, rgba(212,160,23,.07) 2px, transparent 2px),
radial-gradient(circle at 80% 80%, rgba(199,107,47,.07) 2px, transparent 2px),
var(--bg);
background-size:40px 40px;
color:#2b2b2b;
}

/* HEADER */
.header{
padding:22px 10px;
text-align:center;
background:linear-gradient(135deg,var(--terracotta),var(--gold));
color:white;
box-shadow:0 8px 24px rgba(120,70,20,.25);
}
.brand-title{font-family:'Lobster',cursive;font-size:42px;letter-spacing:2px;}
.brand-sub{font-size:15px;margin-top:6px;}
.brand-phone{font-size:14px;margin-top:6px;}

.btn{
padding:10px 18px;
border-radius:24px;
background:#fffdf9;
border:1px solid #f0e6d6;
font-weight:700;
transition:.2s;
}
.btn.active{background:linear-gradient(135deg,var(--terracotta),var(--gold));color:white;border:none;}
.btn:active{transform:scale(.92);}

.langs,.types,.categories,.payments{display:flex;gap:10px;padding:12px;overflow-x:auto;}

.input,textarea{
margin:10px;
padding:14px;
width:calc(100% - 20px);
border-radius:20px;
border:1px solid #e6dac6;
background:#fffdf9;
}

.products{display:grid;grid-template-columns:repeat(2,1fr);gap:14px;padding:12px;}
.card{
border-radius:24px;
background:#fffdf9;
box-shadow:0 10px 22px rgba(120,70,20,.15);
padding:12px;
text-align:center;
border:1px solid #f0e6d6;
transition:.25s;
}
.card.added{animation:pop .3s ease;}
@keyframes pop{0%{transform:scale(1)}50%{transform:scale(1.06)}100%{transform:scale(1)}}

.img{height:110px;border-radius:16px;overflow:hidden;}
.img img{width:100%;height:100%;object-fit:cover;}

.price{margin-top:8px;font-weight:800;color:var(--meat);font-size:16px;}

.counter{display:flex;justify-content:center;gap:10px;margin-top:8px;}
.counter button{
width:34px;height:34px;border-radius:50%;
border:none;background:var(--green);color:white;font-size:18px;
transition:.15s;
}
.counter button:active{transform:scale(.85);}

.cart{
background:#fffdf9;
margin:12px;
padding:16px;
border-radius:24px;
border:1px solid #f0e6d6;
}
.order-btn{
width:100%;
padding:16px;
margin-top:14px;
border:none;
border-radius:22px;
background:linear-gradient(135deg,var(--green),#2e7d32);
color:white;
font-size:17px;
font-weight:800;
letter-spacing:1px;
transition:.2s;
}
.order-btn:active{transform:scale(.96);}

/* POPUP */
.popup{
position:fixed;
inset:0;
background:rgba(0,0,0,.4);
display:flex;
align-items:center;
justify-content:center;
opacity:0;
pointer-events:none;
transition:.3s;
}
.popup.show{opacity:1;pointer-events:auto;}
.popup-box{
background:white;
padding:26px;
border-radius:20px;
text-align:center;
animation:pop .3s ease;
}
</style>
</head>

<body>

<div class="header">
  <div class="brand-title">KADIMA</div>
  <div class="brand-sub">Signature taste</div>
  <div class="brand-phone">+998 90 538 99 99</div>
</div>

<div class="categories" id="cats"></div>
<div class="products" id="products"></div>

<div class="cart">
  <b>üõí –ö–æ—Ä–∑–∏–Ω–∞:</b> <span id="total">0</span> —Å—É–º
  <button class="order-btn" onclick="sendOrder()">–û—Ñ–æ—Ä–º–∏—Ç—å –∑–∞–∫–∞–∑</button>
</div>

<div class="popup" id="popup">
  <div class="popup-box">
    <h2>‚úÖ –ó–∞–∫–∞–∑ –ø—Ä–∏–Ω—è—Ç!</h2>
    <p>–°–∫–æ—Ä–æ —Å –≤–∞–º–∏ —Å–≤—è–∂—É—Ç—Å—è</p>
  </div>
</div>

<script>
Telegram.WebApp.ready();

const MENU={salads:[['–°–≤–µ–∂–∏–π',30000,'images/svejiy.jpg']],kebab:[['–ú–æ–ª–æ—Ç—ã–π',28000,'images/molotiy.jpg']]};
let category='salads',cart={};

function renderCats(){cats.innerHTML='<button class="btn active">ü•ó –°–∞–ª–∞—Ç—ã</button><button class="btn">üî• –®–∞—à–ª—ã–∫</button>';}
function renderProducts(){
products.innerHTML='';
MENU[category].forEach(([n,p,img])=>{
cart[n]=cart[n]||0;
products.innerHTML+=`<div class="card" id="card_${n}">
<div class="img"><img src="${img}"></div>
<div class="price">${p} —Å—É–º</div>
<div>${n}</div>
<div class="counter">
<button onclick="chg('${n}',-1)">‚àí</button>
<span id="c_${n}">${cart[n]}</span>
<button onclick="chg('${n}',1)">+</button>
</div></div>`;
});
}

function chg(n,v){
cart[n]=Math.max(0,(cart[n]||0)+v);
document.getElementById('c_'+n).innerText=cart[n];
document.getElementById('card_'+n).classList.add('added');
setTimeout(()=>document.getElementById('card_'+n).classList.remove('added'),300);
updateTotal();
}
function updateTotal(){let s=0;for(let k in cart)s+=cart[k]*price(k);total.innerText=s;}
function price(n){for(let c in MENU)for(let i of MENU[c])if(i[0]==n)return i[1];}

function sendOrder(){
popup.classList.add('show');
setTimeout(()=>{
Telegram.WebApp.sendData(JSON.stringify({order:cart,total:total.innerText}));
Telegram.WebApp.close();
},1200);
}

renderCats();
renderProducts();
</script>
</body>
</html>
