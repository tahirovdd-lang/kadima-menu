<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<title>KADIMA</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
<script src="https://telegram.org/js/telegram-web-app.js"></script>

<link href="https://fonts.googleapis.com/css2?family=Lobster&display=swap" rel="stylesheet">

<style>
:root{--blue:#4a90e2;--green:#2e7d32;--bg:#f2f4f7;}
body{margin:0;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Arial,sans-serif;background:linear-gradient(180deg,#eef2f7,#f7f9fc);color:#1c1c1e;}

/* üî• –ù–û–í–ê–Ø –®–ê–ü–ö–ê */
.header{
  padding:18px 10px;
  background:linear-gradient(135deg,#4a90e2,#6fb1ff);
  color:#fff;
  text-align:center;
  box-shadow:0 6px 20px rgba(0,0,0,.12);
}
.brand-title{
  font-family:'Lobster',cursive;
  font-size:40px;
  letter-spacing:2px;
}
.brand-sub{font-size:15px;margin-top:4px;}
.brand-phone{font-size:14px;margin-top:6px;opacity:.9;}

.search-input{display:none;margin:10px;padding:14px;width:calc(100% - 20px);border-radius:18px;border:none;box-shadow:0 6px 20px rgba(0,0,0,.08);}
.langs,.types,.categories,.payments{display:flex;gap:10px;padding:10px;overflow-x:auto;}
.btn{padding:10px 18px;border-radius:22px;background:#fff;border:1px solid #e1e5ea;font-size:14px;font-weight:600;}
.btn.active{background:linear-gradient(135deg,#4a90e2,#6fb1ff);color:#fff;border:none;}
.input,textarea{margin:10px;padding:14px;width:calc(100% - 20px);border-radius:18px;border:none;font-size:14px;background:#fff;}
.products{display:grid;grid-template-columns:repeat(2,1fr);gap:14px;padding:12px;}
.card{background:#fff;border-radius:20px;padding:12px;text-align:center;box-shadow:0 10px 24px rgba(0,0,0,.08);}
.img{height:110px;border-radius:16px;background:#f0f2f5;overflow:hidden;}
.img img{width:100%;height:100%;object-fit:cover;}
.price{margin-top:8px;font-weight:800;color:var(--green);}
.counter{display:flex;justify-content:center;gap:12px;margin-top:8px;}
.counter button{width:32px;height:32px;border-radius:50%;border:none;font-size:18px;}
.cart{background:#fff;margin:12px;padding:16px;border-radius:22px;}
.order-btn{width:100%;padding:16px;margin-top:14px;border:none;border-radius:20px;background:linear-gradient(135deg,#4a90e2,#6fb1ff);color:#fff;font-size:16px;font-weight:800;}
</style>
</head>

<body>

<div class="header">
  <div class="brand-title">KADIMA</div>
  <div class="brand-sub">Signature taste</div>
  <div class="brand-phone">+998 90 538 99 99</div>
</div>

<input id="search" class="search-input">

<div class="langs">
  <button class="btn active" onclick="setLang('ru',this)">RU</button>
  <button class="btn" onclick="setLang('uz',this)">UZ</button>
  <button class="btn" onclick="setLang('en',this)">EN</button>
</div>

<div class="types">
  <button class="btn active" onclick="setType('delivery',this)" id="btnDelivery"></button>
  <button class="btn" onclick="setType('pickup',this)" id="btnPickup"></button>
</div>

<input id="address" class="input">
<input id="phone" class="input">

<div class="categories" id="cats"></div>
<div class="products" id="products"></div>

<div class="cart">
  <b id="cartTitle"></b>: <span id="total">0</span> —Å—É–º
  <textarea id="comment" rows="3"></textarea>

  <div class="payments">
    <button class="btn active" onclick="setPayment('cash')" id="payCash">üíµ –ù–∞–ª–∏—á–Ω—ã–µ</button>
    <button class="btn" onclick="setPayment('click')" id="payClick">üí≥ CLICK</button>
  </div>

  <button class="order-btn" onclick="sendOrder()" id="orderBtn"></button>
</div>

<script>
Telegram.WebApp.ready();

let lang='ru',category='salads',type='delivery',cart={},searchValue='',payment='cash';

const TEXT={
ru:{delivery:'üöö –î–æ—Å—Ç–∞–≤–∫–∞',pickup:'üèÉ –°–∞–º–æ–≤—ã–≤–æ–∑',address:'üìç –ê–¥—Ä–µ—Å –¥–æ—Å—Ç–∞–≤–∫–∏',phone:'üìû –¢–µ–ª–µ—Ñ–æ–Ω',cart:'üõí –ö–æ—Ä–∑–∏–Ω–∞',order:'–û—Ñ–æ—Ä–º–∏—Ç—å –∑–∞–∫–∞–∑',comment:'üí¨ –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π',search:'üîé –ü–æ–∏—Å–∫'},
uz:{delivery:'üöö Yetkazib berish',pickup:'üèÉ Olib ketish',address:'üìç Manzil',phone:'üìû Telefon',cart:'üõí Savat',order:'Buyurtma berish',comment:'üí¨ Izoh',search:'üîé Qidirish'},
en:{delivery:'üöö Delivery',pickup:'üèÉ Pickup',address:'üìç Address',phone:'üìû Phone',cart:'üõí Cart',order:'Place order',comment:'üí¨ Comment',search:'üîé Search'}
};

const CATS={
ru:{salads:'ü•ó –°–∞–ª–∞—Ç—ã',kebab:'üî• –®–∞—à–ª—ã–∫',drinks:'ü•§ –ù–∞–ø–∏—Ç–∫–∏',bread:'ü•ñ –•–ª–µ–±'},
uz:{salads:'ü•ó Salatlar',kebab:'üî• Shashlik',drinks:'ü•§ Ichimliklar',bread:'ü•ñ Non'},
en:{salads:'ü•ó Salads',kebab:'üî• Kebab',drinks:'ü•§ Drinks',bread:'ü•ñ Bread'}
};

const MENU={
salads:[['–°–≤–µ–∂–∏–π',30000,'images/svejiy.jpg'],['–¶–µ–∑–∞—Ä—å',35000,'images/cezar.jpg']],
kebab:[['–ú–æ–ª–æ—Ç—ã–π',28000,'images/molotiy.jpg']],
drinks:[['Coca Cola 1L',14000,'images/coca_cola_1l.jpg']],
bread:[['–õ–µ–ø–µ—à–∫–∞',10000,'images/lepyoshka.jpg']]
};

function renderProducts(){
products.innerHTML='';
MENU[category].forEach(([n,p,img])=>{
cart[n]=cart[n]||0;
products.innerHTML+=`<div class="card"><div class="img"><img src="${img}"></div>
<div class="price">${p} —Å—É–º</div><div>${n}</div>
<div class="counter"><button onclick="chg('${n}',-1)">‚àí</button>
<span id="c_${n}">${cart[n]}</span>
<button onclick="chg('${n}',1)">+</button></div></div>`;
});
updateTotal();
}

function chg(n,v){cart[n]=Math.max(0,(cart[n]||0)+v);document.getElementById('c_'+n).innerText=cart[n];updateTotal();}
function updateTotal(){let s=0;for(let k in cart)s+=cart[k]*price(k);total.innerText=s;}
function price(n){for(let c in MENU)for(let i of MENU[c])if(i[0]==n)return i[1];}

function renderCats(){cats.innerHTML='';for(let k in CATS[lang])cats.innerHTML+=`<button class="btn ${k===category?'active':''}" onclick="category='${k}';renderCats();renderProducts()">${CATS[lang][k]}</button>`;}

function setLang(l,b){lang=l;document.querySelectorAll('.langs .btn').forEach(x=>x.classList.remove('active'));b.classList.add('active');applyLang();}
function setType(t,b){type=t;document.querySelectorAll('.types .btn').forEach(x=>x.classList.remove('active'));b.classList.add('active');address.style.display=t==='pickup'?'none':'block';}
function setPayment(p){payment=p;payCash.classList.toggle('active',p==='cash');payClick.classList.toggle('active',p==='click');}

function applyLang(){
btnDelivery.innerText=TEXT[lang].delivery;
btnPickup.innerText=TEXT[lang].pickup;
address.placeholder=TEXT[lang].address;
phone.placeholder=TEXT[lang].phone;
cartTitle.innerText=TEXT[lang].cart;
orderBtn.innerText=TEXT[lang].order;
comment.placeholder=TEXT[lang].comment;
renderCats();renderProducts();
}

function sendOrder(){
const order={};for(let k in cart) if(cart[k]>0) order[k]=cart[k];
Telegram.WebApp.sendData(JSON.stringify({order,total:total.innerText,payment,type,address:address.value,phone:phone.value,comment:comment.value}));
Telegram.WebApp.close();
}

applyLang();
</script>

</body>
</html>
