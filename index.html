<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<title>KADIMA</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
<script src="https://telegram.org/js/telegram-web-app.js"></script>
<link href="https://fonts.googleapis.com/css2?family=Lobster&family=Montserrat:wght@500;700;800&display=swap" rel="stylesheet">

<style>
:root{
--bg:#F8F3E9;
--terracotta:#C76B2F;
--gold:#D4A017;
--green:#1F4D3A;
--meat:#8B1E1E;
}
*{box-sizing:border-box;}

body{
margin:0;
font-family:'Montserrat',sans-serif;
background:var(--bg);
color:#2b2b2b;
}

/* HEADER */
.header{
padding:16px 12px;
background:linear-gradient(135deg,var(--terracotta),var(--gold));
color:white;
box-shadow:0 6px 18px rgba(120,70,20,.25);
display:flex;
align-items:center;
justify-content:center;
position:relative;
text-align:center;
}
.header img{
position:absolute;
left:12px;
width:80px;
}
.brand-title{font-family:'Lobster',cursive;font-size:36px;}
.brand-sub{font-weight:800;font-size:15px;}
.brand-phone a{color:white;text-decoration:none;font-size:14px;}

/* BUTTONS */
.btn{
padding:10px 16px;
border-radius:24px;
background:#fffdf9;
border:1px solid #f0e6d6;
font-weight:700;
white-space:nowrap;
}
.btn.active{
background:linear-gradient(135deg,var(--terracotta),var(--gold));
color:white;border:none;
}

.types,.categories,.payments{
display:flex;
gap:10px;
padding:12px;
overflow-x:auto;
}

.input,textarea{
margin:8px 12px;
padding:14px;
width:calc(100% - 24px);
border-radius:20px;
border:1px solid #e6dac6;
background:#fffdf9;
font-size:15px;
}

/* PRODUCTS */
.products{
display:grid;
grid-template-columns:repeat(2,1fr);
gap:12px;
padding:12px;
}

.card{
border-radius:20px;
background:#fffdf9;
box-shadow:0 8px 18px rgba(120,70,20,.15);
padding:10px;
text-align:center;
border:1px solid #f0e6d6;
}

.img{
height:70px;
display:flex;
align-items:center;
justify-content:center;
}
.img img{max-width:45px;opacity:.8;}

.price{font-weight:800;color:var(--meat);margin-top:6px;}

.counter{display:flex;justify-content:center;gap:10px;margin-top:6px;}
.counter button{
width:30px;height:30px;border-radius:50%;
border:none;background:var(--green);color:white;font-size:16px;
}

/* CART */
.cart{
background:#fffdf9;
margin:12px;
padding:16px;
border-radius:20px;
border:1px solid #f0e6d6;
}

.order-btn{
width:100%;
padding:16px;
margin-top:14px;
border:none;
border-radius:20px;
background:linear-gradient(135deg,var(--green),#2e7d32);
color:white;
font-size:16px;
font-weight:800;
}
</style>
</head>

<body>

<div class="header">
  <img src="logo.png">
  <div>
    <div class="brand-title">KADIMA</div>
    <div class="brand-sub">Signature taste</div>
    <div class="brand-phone">
      <a href="tel:+998905389999">+998 90 538 99 99</a>
    </div>
  </div>
</div>

<div class="types">
  <button class="btn active" onclick="setType('delivery',this)">üöö –î–æ—Å—Ç–∞–≤–∫–∞</button>
  <button class="btn" onclick="setType('pickup',this)">üèÉ –°–∞–º–æ–≤—ã–≤–æ–∑</button>
</div>

<input id="address" class="input" placeholder="üìç –ê–¥—Ä–µ—Å –¥–æ—Å—Ç–∞–≤–∫–∏">
<input id="phone" class="input" placeholder="üìû –¢–µ–ª–µ—Ñ–æ–Ω">

<div class="categories" id="cats"></div>
<div class="products" id="products"></div>

<div class="cart">
  <b>üõí –ö–æ—Ä–∑–∏–Ω–∞:</b> <span id="total">0</span> —Å—É–º

  <div class="payments">
    <button class="btn active" onclick="setPayment('cash')" id="payCash">üíµ –ù–∞–ª–∏—á–Ω—ã–µ</button>
    <button class="btn" onclick="setPayment('click')" id="payClick">üí≥ CLICK</button>
  </div>

  <textarea id="comment" class="input" placeholder="‚úçÔ∏è –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –∫ –∑–∞–∫–∞–∑—É"></textarea>

  <button class="order-btn" onclick="sendOrder()">–û—Ñ–æ—Ä–º–∏—Ç—å –∑–∞–∫–∞–∑</button>
</div>

<script>
Telegram.WebApp.ready();

let category='salads',type='delivery',payment='cash',cart={};

const CATS={salads:'ü•ó –°–∞–ª–∞—Ç—ã',kebab:'üî• –®–∞—à–ª—ã–∫',drinks:'ü•§ –ù–∞–ø–∏—Ç–∫–∏',bread:'ü•ñ –•–ª–µ–±'};
const MENU={
salads:[['–°–≤–µ–∂–∏–π',30000],['–¶–µ–∑–∞—Ä—å',35000]],
kebab:[['–ú–æ–ª–æ—Ç—ã–π',28000]],
drinks:[['Coca Cola 1L',14000]],
bread:[['–õ–µ–ø–µ—à–∫–∞',10000]]
};

function renderCats(){
cats.innerHTML='';
for(let k in CATS){
cats.innerHTML+=`<button class="btn ${k===category?'active':''}" onclick="category='${k}';renderCats();renderProducts()">${CATS[k]}</button>`;
}
}

function renderProducts(){
products.innerHTML='';
MENU[category].forEach(([n,p])=>{
cart[n]=cart[n]||0;
products.innerHTML+=`<div class="card">
<div class="img"><img src="logo.png"></div>
<div>${n}</div>
<div class="price">${p} —Å—É–º</div>
<div class="counter">
<button onclick="chg('${n}',-1)">‚àí</button>
<span id="c_${n}">${cart[n]}</span>
<button onclick="chg('${n}',1)">+</button>
</div></div>`;
});
}

function chg(n,v){
cart[n]=Math.max(0,(cart[n]||0)+v);
document.getElementById('c_'+n).innerText=cart[n];
updateTotal();
}
function updateTotal(){let s=0;for(let k in cart)s+=cart[k]*price(k);total.innerText=s;}
function price(n){for(let c in MENU)for(let i of MENU[c])if(i[0]==n)return i[1];}

function setType(t,b){
type=t;
document.querySelectorAll('.types .btn').forEach(x=>x.classList.remove('active'));
b.classList.add('active');
address.style.display=t==='pickup'?'none':'block';
}

function setPayment(p){
payment=p;
payCash.classList.toggle('active',p==='cash');
payClick.classList.toggle('active',p==='click');
}

function sendOrder(){
Telegram.WebApp.sendData(JSON.stringify({
order:cart,total:total.innerText,payment,type,
address:address.value,phone:phone.value,
comment:comment.value
}));
Telegram.WebApp.close();
}

renderCats();
renderProducts();
</script>

</body>
</html>
